(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var r=function(){function t(n,r){e(this,t),this.linksInternos=document.querySelectorAll(n),this.options=void 0===r?{behavior:"smooth",block:"start"}:r,this.scrollToSection=this.scrollToSection.bind(this)}return n(t,[{key:"scrollToSection",value:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("href");document.querySelector(t).scrollIntoView(this.options)}},{key:"addLinkEvent",value:function(){var e=this;this.linksInternos.forEach((function(t){t.addEventListener("click",e.scrollToSection)}))}},{key:"init",value:function(){return this.linksInternos.length&&this.addLinkEvent(),this}}]),t}();function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o,a,s,c,l,u,d,f,h,m,v,p=function(){function t(n){e(this,t),this.sections=document.querySelectorAll(n),this.windowMetade=.6*window.innerHeight,this.checkDistance=this.checkDistance.bind(this)}return n(t,[{key:"getDistance",value:function(){var e,t=this;this.distance=(e=this.sections,function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var n=e.offsetTop;return{element:e,offset:Math.floor(n-t.windowMetade)}}))}},{key:"checkDistance",value:function(){this.distance.forEach((function(e){window.pageYOffset>e.offset?e.element.classList.add("ativo"):e.element.classList.contains("ativo")&&e.element.classList.remove("ativo")}))}},{key:"init",value:function(){return this.sections.length&&(this.getDistance(),this.checkDistance(),window.addEventListener("scroll",this.checkDistance)),this}},{key:"stop",value:function(){window.removeEventListener("scroll",this.checkDistance)}}]),t}(),b=document.querySelector("form");function y(e){e.ok?b.innerHTML='<p class="font-1-p cor-4" style="padding: 2rem; grid-column: 1 / -1; border-radius: 4px; background: var(--cor-0);"><span class="cor-p3 font-3-t">Mensagem enviada,</span><br>em breve entrarei em contato. Geralmente respondo em até 24 horas.</p>':b.innerHTML='<p class="font-1-p cor-4" style="padding: 2rem; grid-column: 1 / -1; border-radius: 4px; background: var(--cor-0);"><span class="cor-p1 font-3-t">Erro no envio,</span><br>você pode enviar diretamente para o nosso e-mail em: contato@rafaelfragawebdesigner.com.br</p>'}b.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("form button");t.disable=!0,t.innerText="Enviando...";var n=new FormData(b);fetch("./enviar.php",{method:"POST",body:n}).then(y)})),new r('[data-menu="suave"] a[href^="#"]').init(),new p('[data-anime="scroll"]').init(),a=(o=document.querySelector("[data-semana]")).dataset.semana.split(",").map(Number),s=o.dataset.horario.split(",").map(Number),l=(c=new Date).getDay(),u=c.getHours(),d=-1!==a.indexOf(l),f=u>=s[0]&&u<s[1],d&&f&&o.classList.add("aberto"),function(){var e=document.getElementById("btn-mobile");function t(e){"touchstart"===e.type&&e.preventDefault();var t=document.getElementById("nav");t.classList.toggle("active");var n=t.classList.contains("active");e.currentTarget.setAttribute("aria-expanded",n),n?e.currentTarget.setAttribute("aria-label","Fechar Menu"):e.currentTarget.setAttribute("aria-label","Abrir Menu")}e.addEventListener("click",t),e.addEventListener("touchstart",t)}(),v=document.querySelector("h1.writing"),m=(h=v).innerHTML.split(""),h.innerHTML="",m.forEach((function(e,t){setTimeout((function(){h.innerHTML+=e}),120*t)}))})();